var V=Object.defineProperty;var w=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var v=(n,e,a)=>e in n?V(n,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[e]=a,L=(n,e)=>{for(var a in e||(e={}))q.call(e,a)&&v(n,a,e[a]);if(w)for(var a of w(e))A.call(e,a)&&v(n,a,e[a]);return n};import{i as B}from"./axios.16231117.js";import{A as z,H as G,Q}from"./index.3678c192.js";import{C as R}from"./custom_column.8d3ee9b0.js";import{_ as E,r as C,J as F,c as K,b,d,e as u,f as s,t as i,x as N,m as T,F as g,h as f,l as H,n as I,K as J,s as h,y as S}from"./index.375c2135.js";var j={index:n=>B({url:`/queries/${n}/results`})};const M=C([]),D=async()=>{try{const{data:{data:n}}=await R.index();M.value=n}catch(n){console.log(n)}},O={components:{GoogleMap:z,Marker:G},setup(){const n="AIzaSyBnb8imIfiw8JHV1h-Fty9aZ-r1YVTznnc",e=F(),a=C({}),o=C([]),x=async()=>{const t=e.params.id,{data:{data:l}}=await Q.show(t);a.value=l},k=async()=>{try{const t=e.params.id,{data:{data:l}}=await j.index(t);o.value=l.map(r=>{const c=[];return r.tag==="\u512A"?c.push("text-danger"):r.tag==="\u52A3"?c.push("text-secondary"):c.push("text-info"),L({classList:c},r)})}catch(t){console.log(t)}},m=t=>t.classList.join(" "),y=t=>{J(t.number),["text-line-through","bg-dark"].forEach(r=>{const c=t.classList.indexOf(r);c>-1?t.classList.splice(c,1):t.classList.push(r)})},p=()=>{o.value.forEach(t=>{t.classList=t.classList.filter(l=>!["text-line-through","bg-dark"].includes(l))})},_=K(()=>{var c;if(!((c=a.value)!=null&&c.latlng))return{lat:25.0391667,lng:121.5641667};let t=a.value.latlng;const l=Number(t.split(",")[0]),r=Number(t.split(",")[1]);return{lat:l,lng:r}});return D(),k(),x(),{apiKey:n,query:a,results:o,showClass:m,copyToClipboard:y,disableAllLineThrough:p,center:_,custom_columns:M}}},Y={class:"container-fluid mt-5 pt-3"},Z={class:"row"},P={class:"col-8"},U={class:"text-danger"},W={class:"text-muted"},X=S(" \u56DE\u641C\u5C0B "),$={class:"table table-striped"},tt=s("th",null,"\u8A3B\u8A18",-1),st=s("th",null,"\u7DE8\u865F",-1),ot=s("th",null,"\u670D\u52D9\u7DB2\u540D\u5B57",-1),nt=s("th",null,"\u71DF\u696D\u6642\u9593",-1),et=s("th",null,"\u8DEF\u5F91\u8DDD\u96E2",-1),at=s("th",null,"\u5E38\u5099\u8F2A\u80CE\u898F\u683C",-1),lt=s("th",null,"..",-1),ct=["onClick"],it={class:"col-4"},rt=s("h3",{class:"mt-5 text-muted"}," \u5730\u5716\u50C5\u4F9B\u53C3\u8003 ",-1);function dt(n,e,a,o,x,k){var _;const m=b("router-link"),y=b("Marker"),p=b("GoogleMap");return d(),u("div",Y,[s("div",Z,[s("div",P,[s("h1",U," \u641C\u5C0B\u5730\u9EDE\uFF1A "+i(o.query.address),1),s("h3",W," Google\u5730\u9EDE\uFF1A "+i(o.query.geo_location),1),N(m,{class:"btn btn-primary",to:"/"},{default:T(()=>[X]),_:1}),s("button",{type:"button",class:"btn btn-info mx-5",onClick:e[0]||(e[0]=(...t)=>o.disableAllLineThrough&&o.disableAllLineThrough(...t))}," \u53D6\u6D88\u5168\u90E8\u522A\u9664\u7DDA "),s("table",$,[s("thead",null,[s("tr",null,[tt,st,ot,nt,et,at,(d(!0),u(g,null,f(o.custom_columns,t=>(d(),u("th",{key:`column-${t.id}`},i(t.name),1))),128)),lt])]),s("tbody",null,[(d(!0),u(g,null,f(o.results,t=>(d(),u("tr",{key:t.name,class:"item"},[s("td",{class:h(o.showClass(t))},i(t.tag),3),s("td",{class:h(o.showClass(t))},i(t.number),3),s("td",{class:h(o.showClass(t))},i(t.name),3),s("td",{class:h(o.showClass(t))},i(t.business_time),3),s("td",{class:h(o.showClass(t))},i(t.distance_text),3),s("td",{class:h(o.showClass(t))},i(t.common_tire),3),(d(!0),u(g,null,f(o.custom_columns,l=>(d(),u("td",{key:`column_${l.id}`,class:h(o.showClass(t))},i(t[`custom_${l.id}`]),3))),128)),s("td",null,[s("button",{type:"button",class:"copy btn btn-sm btn-outline-success",onClick:l=>o.copyToClipboard(t)}," \u8907\u88FD ",8,ct)])]))),128))])])]),s("div",it,[rt,(_=o.query)!=null&&_.latlng?(d(),H(p,{key:0,"api-key":o.apiKey,style:{width:"100%",height:"500px"},center:o.center,zoom:15},{default:T(()=>[N(y,{options:{position:o.center}},null,8,["options"])]),_:1},8,["api-key","center"])):I("",!0)])])])}var pt=E(O,[["render",dt]]);export{pt as default};
