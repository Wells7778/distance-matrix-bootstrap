import{_ as g,u as b,L as w,E as v,r as d,d as h,e as y,f as s,w as u,v as m}from"./index.96fbe964.js";import{i as E}from"./axios.b2708331.js";import{E as p}from"./index.ee22c18a.js";var k={login:n=>E({url:"/admin/login",method:"POST",data:n})};const x={setup(){const n=b(),o=w(),c=v("mapStore"),{signIn:t,signOut:l}=c,r=d(""),a=d("");return{account:r,password:a,login:async()=>{var i;try{const e={account:r.value,password:a.value},{data:{status:f}}=await k.login(e);if(f)throw Error();t();const _=((i=o==null?void 0:o.query)==null?void 0:i.redirect)||"/";n.push(_),p.success({title:"\u767B\u5165\u6210\u529F",message:"\u5DF2\u6210\u529F\u767B\u5165"})}catch(e){l(),p.error({title:"\u767B\u5165\u5931\u6557",message:"\u5E33\u865F\u5BC6\u78BC\u932F\u8AA4"}),console.log(e)}}}}},P={class:"container"},U={class:"row"},B={class:"col-6 offset-3"},S={class:"form-outline mb-4"},V=s("label",{class:"form-label",for:"account"},"Account",-1),L={class:"form-outline mb-4"},N=s("label",{class:"form-label",for:"password"},"Password",-1);function O(n,o,c,t,l,r){return h(),y("div",P,[s("div",U,[s("div",B,[s("form",null,[s("div",S,[u(s("input",{id:"account","onUpdate:modelValue":o[0]||(o[0]=a=>t.account=a),type:"email",class:"form-control"},null,512),[[m,t.account]]),V]),s("div",L,[u(s("input",{id:"password","onUpdate:modelValue":o[1]||(o[1]=a=>t.password=a),type:"password",class:"form-control"},null,512),[[m,t.password]]),N]),s("button",{type:"button",class:"btn btn-primary btn-block mb-4",onClick:o[2]||(o[2]=(...a)=>t.login&&t.login(...a))}," \u767B\u5165 ")])])])])}var C=g(x,[["render",O]]);export{C as default};
