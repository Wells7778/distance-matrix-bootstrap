import{_ as p,u as _,E as b,r as i,d as g,e as w,f as o,w as d,v as m}from"./index.375c2135.js";import{i as v}from"./axios.16231117.js";import{E as u}from"./index.80029163.js";var h={login:n=>v({url:"/admin/login",method:"POST",data:n})};const y={setup(){const n=_(),s=b("mapStore"),{signIn:c,signOut:t}=s,r=i(""),e=i("");return{account:r,password:e,login:async()=>{try{const l={account:r.value,password:e.value},{data:{status:f}}=await h.login(l);if(f)throw Error();c(),n.replace("/"),u.success({title:"\u767B\u5165\u6210\u529F",message:"\u5DF2\u6210\u529F\u767B\u5165"})}catch(l){t(),u.error({title:"\u767B\u5165\u5931\u6557",message:"\u5E33\u865F\u5BC6\u78BC\u932F\u8AA4"}),console.log(l)}}}}},E={class:"container"},k={class:"row"},x={class:"col-6 offset-3"},U={class:"form-outline mb-4"},B=o("label",{class:"form-label",for:"account"},"Account",-1),S={class:"form-outline mb-4"},V=o("label",{class:"form-label",for:"password"},"Password",-1);function N(n,s,c,t,r,e){return g(),w("div",E,[o("div",k,[o("div",x,[o("form",null,[o("div",U,[d(o("input",{id:"account","onUpdate:modelValue":s[0]||(s[0]=a=>t.account=a),type:"email",class:"form-control"},null,512),[[m,t.account]]),B]),o("div",S,[d(o("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=a=>t.password=a),type:"password",class:"form-control"},null,512),[[m,t.password]]),V]),o("button",{type:"button",class:"btn btn-primary btn-block mb-4",onClick:s[2]||(s[2]=(...a)=>t.login&&t.login(...a))}," \u767B\u5165 ")])])])])}var j=p(y,[["render",N]]);export{j as default};
