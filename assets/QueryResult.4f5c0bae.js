var V=Object.defineProperty;var w=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var v=(n,e,a)=>e in n?V(n,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[e]=a,L=(n,e)=>{for(var a in e||(e={}))q.call(e,a)&&v(n,a,e[a]);if(w)for(var a of w(e))A.call(e,a)&&v(n,a,e[a]);return n};import{i as B}from"./axios.1406ea7e.js";import{A as z,H as G,Q}from"./index.0b553598.js";import{C as R}from"./custom_column.2cbf6784.js";import{_ as F,r as C,J as K,c as E,b,d as r,e as d,f as s,t as c,x as T,m as M,F as g,h as f,l as H,n as I,K as J,s as u,y as S}from"./index.6043f124.js";var j={index:n=>B({url:`/queries/${n}/results`})};const N=C([]),D=async()=>{try{const{data:{data:n}}=await R.index();N.value=n}catch(n){console.log(n)}},Y={components:{GoogleMap:z,Marker:G},setup(){const n="AIzaSyBnb8imIfiw8JHV1h-Fty9aZ-r1YVTznnc",e=K(),a=C({}),o=C([]),x=async()=>{const t=e.params.id,{data:{data:l}}=await Q.show(t);a.value=l},k=async()=>{try{const t=e.params.id,{data:{data:l}}=await j.index(t);o.value=l.map(h=>{const i=[];return h.tag==="\u512A"?i.push("text-danger"):h.tag==="\u52A3"?i.push("text-secondary"):i.push("text-info"),L({classList:i},h)})}catch(t){console.log(t)}},m=t=>t.classList.join(" "),p=t=>{J(t.number),t.classList.push("text-line-through"),t.classList.push("bg-dark")},y=()=>{o.value.forEach(t=>{t.classList=t.classList.filter(l=>!["text-line-through","bg-dark"].includes(l))})},_=E(()=>{var i;if(!((i=a.value)!=null&&i.latlng))return{lat:25.0391667,lng:121.5641667};let t=a.value.latlng;const l=Number(t.split(",")[0]),h=Number(t.split(",")[1]);return{lat:l,lng:h}});return D(),k(),x(),{apiKey:n,query:a,results:o,showClass:m,copyToClipboard:p,disableAllLineThrough:y,center:_,custom_columns:N}}},Z={class:"container-fluid mt-5 pt-3"},O={class:"row"},P={class:"col-8"},U={class:"text-danger"},W={class:"text-muted"},X=S(" \u56DE\u641C\u5C0B "),$={class:"table table-striped"},tt=s("th",null,"\u8A3B\u8A18",-1),st=s("th",null,"\u7DE8\u865F",-1),ot=s("th",null,"\u670D\u52D9\u7DB2\u540D\u5B57",-1),nt=s("th",null,"\u71DF\u696D\u6642\u9593",-1),et=s("th",null,"\u8DEF\u5F91\u8DDD\u96E2",-1),at=s("th",null,"\u5E38\u5099\u8F2A\u80CE\u898F\u683C",-1),lt=s("th",null,"..",-1),ct=["onClick"],rt={class:"col-4"},it=s("h3",{class:"mt-5 text-muted"}," \u5730\u5716\u50C5\u4F9B\u53C3\u8003 ",-1);function dt(n,e,a,o,x,k){var _;const m=b("router-link"),p=b("Marker"),y=b("GoogleMap");return r(),d("div",Z,[s("div",O,[s("div",P,[s("h1",U," \u641C\u5C0B\u5730\u9EDE\uFF1A "+c(o.query.address),1),s("h3",W," Google\u5730\u9EDE\uFF1A "+c(o.query.geo_location),1),T(m,{class:"btn btn-primary",to:"/"},{default:M(()=>[X]),_:1}),s("button",{type:"button",class:"btn btn-info mx-5",onClick:e[0]||(e[0]=(...t)=>o.disableAllLineThrough&&o.disableAllLineThrough(...t))}," \u53D6\u6D88\u5168\u90E8\u522A\u9664\u7DDA "),s("table",$,[s("thead",null,[s("tr",null,[tt,st,ot,nt,et,at,(r(!0),d(g,null,f(o.custom_columns,t=>(r(),d("th",{key:`column-${t.id}`},c(t.name),1))),128)),lt])]),s("tbody",null,[(r(!0),d(g,null,f(o.results,t=>(r(),d("tr",{key:t.name,class:"item"},[s("td",{class:u(o.showClass(t))},c(t.tag),3),s("td",{class:u(o.showClass(t))},c(t.number),3),s("td",{class:u(o.showClass(t))},c(t.name),3),s("td",{class:u(o.showClass(t))},c(t.business_time),3),s("td",{class:u(o.showClass(t))},c(t.distance_text),3),s("td",{class:u(o.showClass(t))},c(t.common_tire),3),(r(!0),d(g,null,f(o.custom_columns,l=>(r(),d("td",{key:`column_${l.id}`},c(t[`column_${l.id}`]),1))),128)),s("td",null,[s("button",{type:"button",class:"copy btn btn-sm btn-outline-success",onClick:l=>o.copyToClipboard(t)}," \u8907\u88FD ",8,ct)])]))),128))])])]),s("div",rt,[it,(_=o.query)!=null&&_.latlng?(r(),H(y,{key:0,"api-key":o.apiKey,style:{width:"100%",height:"500px"},center:o.center,zoom:15},{default:M(()=>[T(p,{options:{position:o.center}},null,8,["options"])]),_:1},8,["api-key","center"])):I("",!0)])])])}var yt=F(Y,[["render",dt]]);export{yt as default};
