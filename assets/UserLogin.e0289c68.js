import{_ as g,u as w,J as b,E as v,r as d,d as h,e as y,f as o,w as u,v as m}from"./index.34364794.js";import{i as E}from"./axios.2ecc4a5e.js";import{E as f}from"./index.9d06f330.js";var k={login:a=>E({url:"/admin/login",method:"POST",data:a})};const x={setup(){w();const a=b(),s=v("mapStore"),{signIn:l,signOut:t}=s,r=d(""),e=d("");return{account:r,password:e,login:async()=>{var i;try{const c={account:r.value,password:e.value},{data:{status:p}}=await k.login(c);if(p)throw Error();l();const _=((i=a==null?void 0:a.query)==null?void 0:i.redirect)||"/";window.location.href=_,f.success({title:"\u767B\u5165\u6210\u529F",message:"\u5DF2\u6210\u529F\u767B\u5165"})}catch(c){t(),f.error({title:"\u767B\u5165\u5931\u6557",message:"\u5E33\u865F\u5BC6\u78BC\u932F\u8AA4"}),console.log(c)}}}}},P={class:"container"},U={class:"row"},B={class:"col-6 offset-3"},S={class:"form-outline mb-4"},V=o("label",{class:"form-label",for:"account"},"Account",-1),N={class:"form-outline mb-4"},O=o("label",{class:"form-label",for:"password"},"Password",-1);function R(a,s,l,t,r,e){return h(),y("div",P,[o("div",U,[o("div",B,[o("form",null,[o("div",S,[u(o("input",{id:"account","onUpdate:modelValue":s[0]||(s[0]=n=>t.account=n),type:"email",class:"form-control"},null,512),[[m,t.account]]),V]),o("div",N,[u(o("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=n=>t.password=n),type:"password",class:"form-control"},null,512),[[m,t.password]]),O]),o("button",{type:"button",class:"btn btn-primary btn-block mb-4",onClick:s[2]||(s[2]=(...n)=>t.login&&t.login(...n))}," \u767B\u5165 ")])])])])}var C=g(x,[["render",R]]);export{C as default};
